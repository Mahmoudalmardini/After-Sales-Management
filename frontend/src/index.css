@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center rounded-lg bg-blue-600 px-6 py-3 text-sm font-medium text-white shadow-md hover:bg-blue-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105;
  }
  
  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-lg bg-white px-6 py-3 text-sm font-medium text-gray-700 shadow-md border border-gray-300 hover:bg-gray-50 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105;
  }
  
  .btn-danger {
    @apply inline-flex items-center justify-center rounded-lg bg-red-600 px-6 py-3 text-sm font-medium text-white shadow-md hover:bg-red-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105;
  }
  
  .btn-success {
    @apply inline-flex items-center justify-center rounded-lg bg-green-600 px-6 py-3 text-sm font-medium text-white shadow-md hover:bg-green-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105;
  }
  
  .btn-warning {
    @apply inline-flex items-center justify-center rounded-lg bg-yellow-600 px-6 py-3 text-sm font-medium text-white shadow-md hover:bg-yellow-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105;
  }
  
  .btn {
    @apply inline-flex items-center justify-center rounded-lg bg-gray-100 px-6 py-3 text-sm font-medium text-gray-700 shadow-md border border-gray-200 hover:bg-gray-200 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105;
  }
  
  .input-field {
    @apply block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-all duration-200 bg-white px-4 py-3;
  }
  
  .input-field:focus {
    @apply ring-2 ring-blue-500 ring-opacity-20 border-blue-500 shadow-md;
  }
  
  .input-field::placeholder {
    @apply text-gray-400;
  }
  
  .select-field {
    @apply block w-full rounded-lg border-gray-300 py-3 px-4 text-base focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm transition-all duration-200 bg-white cursor-pointer;
  }
  
  .select-field:focus {
    @apply ring-2 ring-blue-500 ring-opacity-20 border-blue-500 shadow-md;
  }
  
  .textarea-field {
    @apply block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm transition-all duration-200 bg-white px-4 py-3 resize-none;
  }
  
  .textarea-field:focus {
    @apply ring-2 ring-blue-500 ring-opacity-20 border-blue-500 shadow-md;
  }
  
  .card {
    @apply bg-white shadow-lg rounded-xl border border-gray-100 transition-all duration-200 hover:shadow-xl;
  }
  
  .card-header {
    @apply px-8 py-6 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white rounded-t-xl;
  }
  
  .card-header h2, .card-header h3 {
    @apply text-lg font-semibold text-gray-800 mb-1;
  }
  
  .card-header p {
    @apply text-sm text-gray-600;
  }
  
  .card-content {
    @apply px-8 py-6;
  }
  
  .card-footer {
    @apply px-8 py-6 border-t border-gray-100 bg-gradient-to-r from-gray-50 to-white rounded-b-xl;
  }
  
  .status-badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
  
  .status-new {
    @apply bg-gray-100 text-gray-800;
  }
  
  .status-assigned {
    @apply bg-blue-100 text-blue-800;
  }
  
  .status-under-inspection {
    @apply bg-yellow-100 text-yellow-800;
  }
  
  .status-waiting-parts {
    @apply bg-orange-100 text-orange-800;
  }
  
  .status-in-repair {
    @apply bg-purple-100 text-purple-800;
  }
  
  .status-completed {
    @apply bg-green-100 text-green-800;
  }
  
  .status-closed {
    @apply bg-gray-100 text-gray-600;
  }
  
  .priority-low {
    @apply bg-green-100 text-green-800;
  }
  
  .priority-normal {
    @apply bg-blue-100 text-blue-800;
  }
  
  .priority-high {
    @apply bg-yellow-100 text-yellow-800;
  }
  
  .priority-urgent {
    @apply bg-red-100 text-red-800;
  }
  
  .warranty-under {
    @apply bg-green-100 text-green-800;
  }
  
  .warranty-out {
    @apply bg-red-100 text-red-800;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Form field groups */
  .form-group {
    @apply mb-6;
  }
  
  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-2 text-right;
  }
  
  .form-label.required::after {
    content: ' *';
    @apply text-red-500;
  }
  
  .form-error {
    @apply mt-1 text-sm text-red-600;
  }
  
  .form-help {
    @apply mt-1 text-sm text-gray-500;
  }
  
  /* Input states */
  .input-error {
    @apply border-red-300 focus:border-red-500 focus:ring-red-500;
  }
  
  .input-success {
    @apply border-green-300 focus:border-green-500 focus:ring-green-500;
  }
  
  /* Loading states */
  .loading-spinner {
    @apply animate-spin h-5 w-5 border-2 border-blue-600 border-t-transparent rounded-full;
  }
  
  /* Improved shadows */
  .shadow-soft {
    box-shadow: 0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04);
  }
  
  .shadow-medium {
    box-shadow: 0 4px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
}

/* RTL adjustments */
html[dir='rtl'] {
  /* Main content margin adjustment for fixed sidebar */
  .lg\\:pl-64 {
    padding-left: 0 !important;
    padding-right: 16rem !important;
  }
  .lg\\:pr-64 {
    padding-right: 16rem !important;
  }
  .lg\\:ml-64 {
    margin-left: 0 !important;
    margin-right: 16rem !important;
  }
}

html[dir='rtl'] body {
  direction: rtl;
  text-align: right;
}

/* Text alignment */
html[dir='rtl'] .text-left { text-align: right; }
html[dir='rtl'] .text-right { text-align: left; }

/* Margin adjustments */
html[dir='rtl'] .ml-auto { margin-left: 0; margin-right: auto; }
html[dir='rtl'] .mr-1 { margin-left: 0.25rem; margin-right: 0; }
html[dir='rtl'] .mr-2 { margin-left: 0.5rem; margin-right: 0; }
html[dir='rtl'] .mr-3 { margin-left: 0.75rem; margin-right: 0; }
html[dir='rtl'] .mr-4 { margin-left: 1rem; margin-right: 0; }
html[dir='rtl'] .ml-1 { margin-right: 0.25rem; margin-left: 0; }
html[dir='rtl'] .ml-2 { margin-right: 0.5rem; margin-left: 0; }
html[dir='rtl'] .ml-3 { margin-right: 0.75rem; margin-left: 0; }
html[dir='rtl'] .ml-4 { margin-right: 1rem; margin-left: 0; }

/* Padding adjustments */
html[dir='rtl'] .pr-2 { padding-right: 0; padding-left: 0.5rem; }
html[dir='rtl'] .pl-2 { padding-left: 0; padding-right: 0.5rem; }
html[dir='rtl'] .pr-3 { padding-right: 0; padding-left: 0.75rem; }
html[dir='rtl'] .pl-3 { padding-left: 0; padding-right: 0.75rem; }
html[dir='rtl'] .pr-4 { padding-right: 0; padding-left: 1rem; }
html[dir='rtl'] .pl-4 { padding-left: 0; padding-right: 1rem; }

/* Border adjustments */
html[dir='rtl'] .border-l { border-left: none; border-right: 1px solid; }
html[dir='rtl'] .border-r { border-right: none; border-left: 1px solid; }
html[dir='rtl'] .border-l-2 { border-left: none; border-right: 2px solid; }
html[dir='rtl'] .border-r-2 { border-right: none; border-left: 2px solid; }

/* Form inputs */
html[dir='rtl'] input, html[dir='rtl'] select, html[dir='rtl'] textarea {
  text-align: right;
}

/* Enhanced Arabic typography */
html[dir='rtl'] {
  font-family: 'Segoe UI', 'Tahoma', 'Arial', 'Helvetica', sans-serif;
}

html[dir='rtl'] h1, html[dir='rtl'] h2, html[dir='rtl'] h3, html[dir='rtl'] h4, html[dir='rtl'] h5, html[dir='rtl'] h6 {
  font-weight: 600;
  line-height: 1.4;
}

/* Better spacing for Arabic text */
html[dir='rtl'] p, html[dir='rtl'] span, html[dir='rtl'] div {
  line-height: 1.6;
}

/* Logo styles */
.logo-container {
  @apply flex items-center transition-all duration-200;
}

.logo-container:hover {
  @apply transform scale-105;
}

.logo-image {
  @apply transition-all duration-300;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.logo-image:hover {
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.15));
}

/* Arabic font classes */
.font-arabic {
  font-family: 'Segoe UI', 'Tahoma', 'Arial', 'Helvetica', sans-serif;
  font-feature-settings: 'kern' 1, 'liga' 1;
}

.font-arabic h1, .font-arabic h2, .font-arabic h3 {
  font-weight: 700;
  letter-spacing: -0.025em;
}

/* Form field improvements */
.form-group .form-label {
  font-weight: 500;
  color: #374151;
}

.form-group .input-field,
.form-group .select-field,
.form-group .textarea-field {
  font-size: 14px;
  line-height: 1.5;
}

/* Loading spinner improvements */
.loading-spinner {
  display: inline-block;
  margin-left: 8px;
}

/* Button improvements */
.btn-primary:disabled,
.btn-secondary:disabled {
  transform: none;
  cursor: not-allowed;
}

/* Card improvements */
.card {
  overflow: hidden;
}

.card-header {
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
}

/* Status badges improvements */
.status-badge {
  font-weight: 500;
  letter-spacing: 0.025em;
}

/* Responsive improvements */
@media (max-width: 768px) {
  .card-content {
    @apply px-4 py-4;
  }
  
  .card-header {
    @apply px-4 py-4;
  }
  
  .card-footer {
    @apply px-4 py-4;
  }
  
  .btn-primary, .btn-secondary, .btn, .btn-danger, .btn-success, .btn-warning {
    @apply px-4 py-2 text-sm;
  }
  
  .form-group {
    @apply mb-4;
  }
}

/* Animation improvements */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.card {
  animation: slideIn 0.3s ease-out;
}

/* Focus improvements */
.input-field:focus,
.select-field:focus,
.textarea-field:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* Hover improvements for interactive elements */
.card:hover {
  transform: translateY(-2px);
}

/* Better error states */
.input-error {
  animation: shake 0.5s ease-in-out;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
  20%, 40%, 60%, 80% { transform: translateX(2px); }
}

/* Flexbox adjustments */
html[dir='rtl'] .justify-start { justify-content: flex-end; }
html[dir='rtl'] .justify-end { justify-content: flex-start; }

/* Reverse Tailwind space-x utilities commonly used */
html[dir='rtl'] .space-x-1 > :not([hidden]) ~ :not([hidden]) { --tw-space-x-reverse: 1; }
html[dir='rtl'] .space-x-2 > :not([hidden]) ~ :not([hidden]) { --tw-space-x-reverse: 1; }
html[dir='rtl'] .space-x-3 > :not([hidden]) ~ :not([hidden]) { --tw-space-x-reverse: 1; }
html[dir='rtl'] .space-x-4 > :not([hidden]) ~ :not([hidden]) { --tw-space-x-reverse: 1; }
html[dir='rtl'] .space-x-6 > :not([hidden]) ~ :not([hidden]) { --tw-space-x-reverse: 1; }

/* Tables alignment */
html[dir='rtl'] th, html[dir='rtl'] td { 
  text-align: right; 
  white-space: normal; 
  word-break: break-word; 
  overflow-wrap: anywhere; 
}
html[dir='rtl'] table { table-layout: fixed; width: 100%; }

/* LTR text class for content that should remain left-to-right */
.ltr-text {
  direction: ltr !important;
  text-align: left !important;
}