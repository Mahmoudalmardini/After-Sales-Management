# دليل إضافة الفنيين - نظام خدمات ما بعد البيع

## 🎯 طرق إضافة الفنيين

يمكنك إضافة فنيين جدد بثلاث طرق مختلفة:

---

## 🖥️ الطريقة الأولى: من خلال الواجهة (الأسهل)

### الخطوات:
1. **تسجيل الدخول** كمدير شركة أو نائب مدير
2. **اذهب للقائمة الجانبية** → "المستخدمون"
3. **اضغط على "إضافة مستخدم جديد"** (الزر الأزرق)
4. **املأ النموذج:**
   - الاسم الأول: `محمد`
   - اسم العائلة: `أحمد`
   - اسم المستخدم: `tech2` (يجب أن يكون فريد)
   - البريد الإلكتروني: `tech2@company.com`
   - كلمة المرور: `tech123` (6 أحرف على الأقل)
   - رقم الهاتف: `0911234567` (اختياري)
   - الدور: `فني`
   - القسم: اختر القسم المناسب
5. **اضغط "إنشاء المستخدم"**

### المميزات:
✅ سهل الاستخدام  
✅ واجهة بصرية واضحة  
✅ التحقق من صحة البيانات  
✅ رسائل خطأ واضحة  

---

## 💻 الطريقة الثانية: من خلال سطر الأوامر (للمطورين)

### الخطوات:
1. **افتح PowerShell أو Command Prompt**
2. **انتقل لمجلد المشروع:**
   ```bash
   cd F:\mes_program\backend
   ```
3. **استخدم الأمر التالي:**
   ```bash
   node add-technician.js اسم_المستخدم البريد كلمة_المرور الاسم_الأول اسم_العائلة رقم_القسم [رقم_الهاتف]
   ```

### مثال:
```bash
node add-technician.js tech2 tech2@company.com tech123 محمد أحمد 1 0911234567
```

### المعاملات:
- `tech2`: اسم المستخدم (يجب أن يكون فريد)
- `tech2@company.com`: البريد الإلكتروني
- `tech123`: كلمة المرور
- `محمد`: الاسم الأول
- `أحمد`: اسم العائلة
- `1`: رقم القسم (انظر الأقسام المتاحة أدناه)
- `0911234567`: رقم الهاتف (اختياري)

### المميزات:
✅ سريع للإضافة المتعددة  
✅ يمكن استخدامه في Scripts  
✅ يعرض رسائل واضحة  

---

## 📋 الطريقة الثالثة: عرض المستخدمين الحاليين

### لعرض جميع المستخدمين:
```bash
cd F:\mes_program\backend
node list-users.js
```

### سيعرض لك:
- قائمة بجميع المستخدمين مجموعة حسب الدور
- معلومات كل مستخدم (الاسم، اسم المستخدم، البريد، إلخ)
- إحصائيات سريعة

---

## 🏢 الأقسام المتاحة

| رقم القسم | اسم القسم | الوصف |
|----------|----------|-------|
| `1` | LG Maintenance | أجهزة LG (تلفزيونات، ثلاجات، غسالات) |
| `2` | Solar Energy | أنظمة الطاقة الشمسية |
| `3` | TP-Link | أجهزة الشبكات والراوترات |
| `4` | Epson | الطابعات وحلول الطباعة |

### للتحقق من الأقسام:
إذا لم تكن متأكد من رقم القسم، اترك رقم خاطئ وسيعرض لك النظام الأقسام المتاحة.

---

## ⚠️ نصائح مهمة

### أسماء المستخدمين:
- يجب أن تكون **فريدة** في النظام
- استخدم نمط واضح مثل: `tech1`, `tech2`, `lg_tech1`, إلخ
- تجنب المسافات والأحرف الخاصة

### كلمات المرور:
- 6 أحرف على الأقل
- استخدم كلمات مرور قوية للحسابات المهمة
- يمكن للمستخدم تغييرها لاحقاً

### البريد الإلكتروني:
- يجب أن يكون **فريد** في النظام
- استخدم نمط واضح: `firstname.lastname@company.com`

### الأقسام:
- **مطلوب للفنيين** - كل فني يجب أن ينتمي لقسم
- الفني يرى فقط طلبات قسمه
- يمكن نقل الفني لقسم آخر لاحقاً

---

## 🔍 استكشاف الأخطاء

### "اسم المستخدم مستخدم بالفعل":
- جرب اسم مستخدم مختلف
- تحقق من القائمة الحالية باستخدام `node list-users.js`

### "البريد الإلكتروني مستخدم بالفعل":
- استخدم بريد إلكتروني مختلف
- تحقق من المستخدمين الحاليين

### "القسم غير موجود":
- تأكد من رقم القسم الصحيح
- راجع جدول الأقسام أعلاه

### "لا يمكن الوصول للنظام":
- تأكد من تشغيل الخادم: `npm run dev`
- تحقق من المنفذ: `http://localhost:3001`

---

## 📞 الدعم

إذا واجهت مشاكل:
1. **تحقق من الأخطاء** في رسائل النظام
2. **استخدم `node list-users.js`** لرؤية المستخدمين الحاليين
3. **تأكد من تشغيل قاعدة البيانات** والخادم
4. **راجع ملفات الـ logs** في مجلد النظام

---

## 🎯 أمثلة سريعة

### إضافة فني LG:
```bash
node add-technician.js lg_tech1 lg.tech1@company.com tech123 أحمد محمد 1 0911111111
```

### إضافة فني طاقة شمسية:
```bash
node add-technician.js solar_tech1 solar.tech1@company.com tech123 فاطمة علي 2 0922222222
```

### إضافة فني TP-Link:
```bash
node add-technician.js tp_tech1 tp.tech1@company.com tech123 محمود حسن 3 0933333333
```

### إضافة فني Epson:
```bash
node add-technician.js epson_tech1 epson.tech1@company.com tech123 سارة أحمد 4 0944444444
```

---

*تذكر: يمكن للفنيين تسجيل الدخول فور إنشاء حساباتهم واستخدام النظام مباشرة!* 🚀
